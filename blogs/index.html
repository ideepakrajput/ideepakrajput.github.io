<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <!-- Favicon -->
        <link rel="icon" type="image/png" href="../assets/img/favicon.png" />
        <link rel="apple-touch-icon" href="../assets/img/favicon.png" />

        <!-- Primary Meta Tags -->
        <title>Blog | Deepak Kumar</title>
        <meta
            name="google-site-verification"
            content="Pu9PqvbJLcdWV-lVfAlpilXUduovaYbtHG12lVzbdjk"
        />

        <!-- SEO Meta Tags -->
        <meta name="title" content="Blog | Deepak Kumar" />
        <meta
            name="description"
            content="Read the latest articles and tutorials on web development, DevOps, and programming by Deepak Kumar"
        />
        <meta
            name="keywords"
            content="blog, web development, programming, tutorials, DevOps, React, Node.js"
        />
        <meta name="author" content="Deepak Kumar" />
        <meta name="robots" content="index, follow" />
        <meta name="language" content="English" />

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://ideepakrajput.tech/blogs/" />
        <meta property="og:title" content="Blog | Deepak Kumar" />
        <meta
            property="og:description"
            content="Read the latest articles and tutorials on web development, DevOps, and programming"
        />
        <meta property="og:image" content="../assets/img/blog-banner.jpg" />

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image" />
        <meta
            property="twitter:url"
            content="https://ideepakrajput.tech/blogs/"
        />
        <meta property="twitter:title" content="Blog | Deepak Kumar" />
        <meta
            property="twitter:description"
            content="Read the latest articles and tutorials on web development, DevOps, and programming"
        />
        <meta
            property="twitter:image"
            content="../assets/img/blog-banner.jpg"
        />

        <!-- Theme Color -->
        <meta name="theme-color" content="#1F2937" />

        <!-- Styles -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.min.js"></script>

        <style>
            .blog-card {
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }

            .blog-card:hover {
                transform: translateY(-4px);
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            }

            .category-filter {
                transition: all 0.3s ease;
            }

            .category-filter.active {
                background: linear-gradient(135deg, #3b82f6, #8b5cf6);
                color: white;
            }

            .search-container {
                position: relative;
            }

            .search-results {
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: #1f2937;
                border: 1px solid #374151;
                border-radius: 0.5rem;
                max-height: 300px;
                overflow-y: auto;
                z-index: 10;
                display: none;
            }

            .loading-spinner {
                border: 3px solid #374151;
                border-top: 3px solid #3b82f6;
                border-radius: 50%;
                width: 40px;
                height: 40px;
                animation: spin 1s linear infinite;
            }

            @keyframes spin {
                0% {
                    transform: rotate(0deg);
                }
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="bg-gray-900 text-gray-100">
        <!-- Navigation -->
        <nav class="fixed w-full bg-gray-800 shadow-lg z-50">
            <div class="container mx-auto px-6 py-3">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <img
                            src="../assets/img/DEEPAK.webp"
                            alt="Deepak Kumar"
                            class="rounded-full w-10 h-10 object-cover shadow-lg"
                        />
                        <div class="text-2xl font-bold text-blue-400">
                            <a href="../index.html">Deepak Kumar</a>
                        </div>
                    </div>
                    <!-- Hamburger Menu Button -->
                    <button
                        id="menu-btn"
                        class="md:hidden text-gray-300 hover:text-blue-400 focus:outline-none"
                    >
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                    <!-- Desktop Menu -->
                    <div class="hidden md:flex space-x-8">
                        <a
                            href="../index.html#hero"
                            class="text-gray-300 hover:text-blue-400"
                            >Home</a
                        >
                        <a
                            href="../index.html#about"
                            class="text-gray-300 hover:text-blue-400"
                            >About</a
                        >
                        <a
                            href="../index.html#skills"
                            class="text-gray-300 hover:text-blue-400"
                            >Skills</a
                        >
                        <a
                            href="../index.html#experience"
                            class="text-gray-300 hover:text-blue-400"
                            >Experience</a
                        >
                        <a
                            href="../index.html#services"
                            class="text-gray-300 hover:text-blue-400"
                            >Services</a
                        >
                        <a
                            href="../index.html#contact"
                            class="text-gray-300 hover:text-blue-400"
                            >Contact</a
                        >
                        <a
                            href="/blogs"
                            class="text-blue-400 border-b-2 border-blue-400"
                            >Blog</a
                        >
                    </div>
                </div>
                <!-- Mobile Menu -->
                <div id="mobile-menu" class="md:hidden hidden">
                    <div class="flex flex-col space-y-4 mt-4 pb-4">
                        <a
                            href="../index.html#hero"
                            class="text-gray-300 hover:text-blue-400"
                            >Home</a
                        >
                        <a
                            href="../index.html#about"
                            class="text-gray-300 hover:text-blue-400"
                            >About</a
                        >
                        <a
                            href="../index.html#skills"
                            class="text-gray-300 hover:text-blue-400"
                            >Skills</a
                        >
                        <a
                            href="../index.html#experience"
                            class="text-gray-300 hover:text-blue-400"
                            >Experience</a
                        >
                        <a
                            href="../index.html#services"
                            class="text-gray-300 hover:text-blue-400"
                            >Services</a
                        >
                        <a
                            href="../index.html#contact"
                            class="text-gray-300 hover:text-blue-400"
                            >Contact</a
                        >
                        <a href="/blogs" class="text-blue-400">Blog</a>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Blog Header -->
        <section class="pt-24 pb-8 bg-gradient-to-r from-gray-800 to-gray-900">
            <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto text-center">
                    <h1
                        class="text-3xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent"
                    >
                        <i class="fas fa-blog mr-4"></i>My Blog
                    </h1>
                    <p class="text-xl text-gray-300 mb-8">
                        Sharing knowledge about web development, DevOps, and
                        programming best practices
                    </p>
                </div>
            </div>
        </section>

        <!-- Search and Filter Section -->
        <section class="py-8 bg-gray-800">
            <div class="container mx-auto px-6">
                <div class="max-w-6xl mx-auto">
                    <!-- Search Bar -->
                    <div class="search-container mb-6">
                        <div class="relative">
                            <input
                                type="text"
                                id="search-input"
                                placeholder="Search articles..."
                                class="w-full px-4 py-3 pl-12 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none"
                            />
                            <i
                                class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"
                            ></i>
                        </div>
                        <div id="search-results" class="search-results"></div>
                    </div>

                    <!-- Category Filters -->
                    <div class="flex flex-wrap gap-3 mb-6">
                        <button
                            class="category-filter active px-4 py-2 rounded-full bg-gray-700 text-gray-300 hover:bg-blue-600 hover:text-white"
                            data-category="all"
                        >
                            All Posts
                        </button>
                        <button
                            class="category-filter px-4 py-2 rounded-full bg-gray-700 text-gray-300 hover:bg-blue-600 hover:text-white"
                            data-category="Web Development"
                        >
                            <i class="fas fa-code mr-2"></i>Web Development
                        </button>
                        <button
                            class="category-filter px-4 py-2 rounded-full bg-gray-700 text-gray-300 hover:bg-blue-600 hover:text-white"
                            data-category="DevOps"
                        >
                            <i class="fas fa-server mr-2"></i>DevOps
                        </button>
                        <button
                            class="category-filter px-4 py-2 rounded-full bg-gray-700 text-gray-300 hover:bg-blue-600 hover:text-white"
                            data-category="JavaScript"
                        >
                            <i class="fab fa-js-square mr-2"></i>JavaScript
                        </button>
                        <button
                            class="category-filter px-4 py-2 rounded-full bg-gray-700 text-gray-300 hover:bg-blue-600 hover:text-white"
                            data-category="React"
                        >
                            <i class="fab fa-react mr-2"></i>React
                        </button>
                        <button
                            class="category-filter px-4 py-2 rounded-full bg-gray-700 text-gray-300 hover:bg-blue-600 hover:text-white"
                            data-category="Node.js"
                        >
                            <i class="fab fa-node-js mr-2"></i>Node.js
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Blog Posts Section -->
        <section class="py-12">
            <div class="container mx-auto px-6">
                <div class="max-w-6xl mx-auto">
                    <!-- Loading Spinner -->
                    <div
                        id="loading"
                        class="flex justify-center items-center py-12"
                    >
                        <div class="loading-spinner"></div>
                    </div>

                    <!-- Blog Posts Grid -->
                    <div
                        id="blog-posts"
                        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 hidden"
                    >
                        <!-- Blog posts will be populated here -->
                    </div>

                    <!-- No Results Message -->
                    <div id="no-results" class="text-center py-12 hidden">
                        <i
                            class="fas fa-search text-6xl text-gray-600 mb-4"
                        ></i>
                        <h3 class="text-2xl font-bold text-gray-400 mb-2">
                            No articles found
                        </h3>
                        <p class="text-gray-500">
                            Try adjusting your search or filter criteria
                        </p>
                    </div>

                    <!-- Error Message -->
                    <div id="error-message" class="text-center py-12 hidden">
                        <i
                            class="fas fa-exclamation-triangle text-6xl text-red-500 mb-4"
                        ></i>
                        <h3 class="text-2xl font-bold text-red-400 mb-2">
                            Error loading blogs
                        </h3>
                        <p class="text-gray-500">Please try again later</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Newsletter Section -->
        <section class="py-16 bg-gradient-to-r from-blue-900 to-purple-900">
            <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto text-center">
                    <h2 class="text-3xl font-bold mb-4 text-white">
                        <i class="fas fa-envelope mr-3"></i>Stay Updated
                    </h2>
                    <p class="text-xl text-gray-200 mb-8">
                        Get the latest tutorials and tips delivered to your
                        inbox
                    </p>
                    <form
                        class="flex flex-col md:flex-row gap-4 max-w-md mx-auto"
                    >
                        <input
                            type="email"
                            placeholder="Enter your email"
                            class="flex-1 px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none"
                        />
                        <button
                            type="submit"
                            class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors"
                        >
                            Subscribe
                        </button>
                    </form>
                </div>
            </div>
        </section>

        <!-- JavaScript -->
        <script>
            let allBlogs = [];
            let filteredBlogs = [];

            // Mobile menu toggle
            document
                .getElementById("menu-btn")
                .addEventListener("click", function () {
                    const mobileMenu = document.getElementById("mobile-menu");
                    mobileMenu.classList.toggle("hidden");
                });

            // Load blogs from JSON
            async function loadBlogs() {
                try {
                    const response = await fetch("./blogs.json");
                    if (!response.ok) {
                        throw new Error("Failed to fetch blogs");
                    }
                    const data = await response.json();
                    allBlogs = data.blogs || [];
                    filteredBlogs = [...allBlogs];

                    hideLoading();
                    displayBlogs(filteredBlogs);
                } catch (error) {
                    console.error("Error loading blogs:", error);
                    hideLoading();
                    showError();
                }
            }

            // Display blogs
            function displayBlogs(blogs) {
                const blogContainer = document.getElementById("blog-posts");
                const noResults = document.getElementById("no-results");

                if (blogs.length === 0) {
                    blogContainer.classList.add("hidden");
                    noResults.classList.remove("hidden");
                    return;
                }

                noResults.classList.add("hidden");
                blogContainer.classList.remove("hidden");

                // <img
                //                 src="${
                //                     blog.image ||
                //                     "../assets/img/default-blog.jpg"
                //                 }"
                //                 alt="${blog.title}"
                //                 class="w-full h-48 object-cover"
                //                 onerror="this.src='../assets/img/default-blog.jpg'"
                //             />

                blogContainer.innerHTML = blogs
                    .map(
                        (blog) => `
                    <article class="blog-card bg-gray-800 rounded-lg overflow-hidden shadow-lg">
                        <div class="relative">
                            
                            <div class="absolute top-4 left-4">
                                <span class="bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-semibold">
                                    <i class="${getCategoryIcon(
                                        blog.category
                                    )} mr-1"></i>
                                    ${blog.category}
                                </span>
                            </div>
                        </div>
                        <div class="p-6">
                            <div class="flex items-center text-gray-400 text-sm mb-3">
                                <i class="fas fa-calendar mr-2"></i>
                                <span>${formatDate(blog.publishDate)}</span>
                                <span class="mx-2">•</span>
                                <i class="fas fa-clock mr-2"></i>
                                <span>${blog.readTime || "5 min read"}</span>
                            </div>
                            <h3 class="text-xl font-bold mb-3 text-white hover:text-blue-400 transition-colors">
                                <a href="${blog.url}">${blog.title}</a>
                            </h3>
                            <p class="text-gray-300 mb-4 line-clamp-3">
                                ${blog.description || blog.excerpt || ""}
                            </p>
                            <div class="flex items-center justify-between">
                                <div class="flex flex-wrap gap-2">
                                    ${
                                        blog.tags
                                            ? blog.tags
                                                  .slice(0, 3)
                                                  .map(
                                                      (tag) => `
                                        <span class="bg-gray-700 text-gray-300 px-2 py-1 rounded text-xs">
                                            ${tag}
                                        </span>
                                    `
                                                  )
                                                  .join("")
                                            : ""
                                    }
                                </div>
                                <a
                                    href="${blog.url}"
                                    class="text-blue-400 hover:text-blue-300 font-semibold flex items-center"
                                >
                                    Read More
                                    <i class="fas fa-arrow-right ml-2"></i>
                                </a>
                            </div>
                        </div>
                    </article>
                `
                    )
                    .join("");
            }

            // Get category icon
            function getCategoryIcon(category) {
                const icons = {
                    "Web Development": "fas fa-code",
                    DevOps: "fas fa-server",
                    JavaScript: "fab fa-js-square",
                    React: "fab fa-react",
                    "Node.js": "fab fa-node-js",
                    Git: "fab fa-git-alt",
                    Docker: "fab fa-docker",
                    MongoDB: "fas fa-database",
                    Tutorial: "fas fa-graduation-cap",
                    Tips: "fas fa-lightbulb",
                };
                return icons[category] || "fas fa-file-alt";
            }

            // Format date
            function formatDate(dateString) {
                const options = {
                    year: "numeric",
                    month: "long",
                    day: "numeric",
                };
                return new Date(dateString).toLocaleDateString(
                    "en-US",
                    options
                );
            }

            // Hide loading spinner
            function hideLoading() {
                document.getElementById("loading").classList.add("hidden");
            }

            // Show error message
            function showError() {
                document
                    .getElementById("error-message")
                    .classList.remove("hidden");
            }

            // Search functionality
            function setupSearch() {
                const searchInput = document.getElementById("search-input");
                const searchResults = document.getElementById("search-results");
                let searchTimeout;

                searchInput.addEventListener("input", function () {
                    clearTimeout(searchTimeout);
                    const query = this.value.toLowerCase().trim();

                    if (query.length === 0) {
                        searchResults.style.display = "none";
                        filteredBlogs = [...allBlogs];
                        displayBlogs(filteredBlogs);
                        return;
                    }

                    searchTimeout = setTimeout(() => {
                        const results = allBlogs.filter(
                            (blog) =>
                                blog.title.toLowerCase().includes(query) ||
                                blog.description
                                    ?.toLowerCase()
                                    .includes(query) ||
                                blog.category.toLowerCase().includes(query) ||
                                blog.tags?.some((tag) =>
                                    tag.toLowerCase().includes(query)
                                )
                        );

                        if (query.length > 0 && results.length > 0) {
                            showSearchResults(results.slice(0, 5), query);
                        } else {
                            searchResults.style.display = "none";
                        }

                        filteredBlogs = results;
                        displayBlogs(filteredBlogs);
                    }, 300);
                });

                // Hide search results when clicking outside
                document.addEventListener("click", function (e) {
                    if (
                        !searchInput.contains(e.target) &&
                        !searchResults.contains(e.target)
                    ) {
                        searchResults.style.display = "none";
                    }
                });
            }

            // Show search results dropdown
            function showSearchResults(results, query) {
                const searchResults = document.getElementById("search-results");
                searchResults.innerHTML = results
                    .map(
                        (blog) => `
                    <a href="${
                        blog.url
                    }" class="block p-3 hover:bg-gray-700 border-b border-gray-600 last:border-b-0">
                        <div class="flex items-center space-x-3">
                            <i class="${getCategoryIcon(
                                blog.category
                            )} text-blue-400"></i>
                            <div>
                                <div class="font-semibold text-white">${highlightText(
                                    blog.title,
                                    query
                                )}</div>
                                <div class="text-sm text-gray-400">${
                                    blog.category
                                }</div>
                            </div>
                        </div>
                    </a>
                `
                    )
                    .join("");
                searchResults.style.display = "block";
            }

            // Highlight search text
            function highlightText(text, query) {
                const regex = new RegExp(`(${query})`, "gi");
                return text.replace(
                    regex,
                    '<mark class="bg-blue-600 text-white px-1 rounded">$1</mark>'
                );
            }

            // Category filtering
            function setupCategoryFilters() {
                const filterButtons =
                    document.querySelectorAll(".category-filter");

                filterButtons.forEach((button) => {
                    button.addEventListener("click", function () {
                        // Remove active class from all buttons
                        filterButtons.forEach((btn) =>
                            btn.classList.remove("active")
                        );
                        // Add active class to clicked button
                        this.classList.add("active");

                        const category = this.dataset.category;

                        if (category === "all") {
                            filteredBlogs = [...allBlogs];
                        } else {
                            filteredBlogs = allBlogs.filter(
                                (blog) => blog.category === category
                            );
                        }

                        displayBlogs(filteredBlogs);

                        // Clear search
                        document.getElementById("search-input").value = "";
                        document.getElementById(
                            "search-results"
                        ).style.display = "none";
                    });
                });
            }

            // Initialize when DOM is loaded
            document.addEventListener("DOMContentLoaded", function () {
                loadBlogs();
                setupSearch();
                setupCategoryFilters();
            });
        </script>
    </body>
</html>
